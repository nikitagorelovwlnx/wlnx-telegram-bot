# Промпты для WLNX Telegram Bot

Этот каталог содержит промпты, вынесенные в отдельные файлы для удобства управления и редактирования.

## Структура

### `conversationPrompts.ts`
Содержит промпты для разговорной части бота:
- **CONVERSATION_PERSONA_PROMPT** - основной промпт для персоны Anna
- **FIRST_MESSAGE_CONTEXT** - контекст для первого сообщения
- **CONVERSATION_SYSTEM_PROMPT** - системный промпт для разговоров

### `summaryPrompts.ts`
Содержит промпты для генерации wellness summary:
- **WELLNESS_SUMMARY_SYSTEM_PROMPT** - системный промпт для аналитика
- **generateWellnessSummaryPrompt()** - функция для генерации детального промпта с использованием извлеченных данных
- **SUMMARY_SCHEMA_DESCRIPTION** - описание схемы summary

## Как это работает

1. **Разговор**: Bot использует промпты из `conversationPrompts.ts` для общения с пользователем
2. **Извлечение данных**: `extractUserInfo()` анализирует разговор и извлекает структурированные данные
3. **Генерация summary**: `generateWellnessSummary()` использует промпты из `summaryPrompts.ts` + извлеченные данные для создания детального отчета
4. **Сохранение**: API получает транскрипцию + улучшенный summary (который теперь содержит все извлеченные атрибуты в структурированном виде)

## Преимущества

- ✅ Промпты легко редактировать отдельно
- ✅ Summary теперь использует извлеченные данные
- ✅ Сохраняется простая структура API (transcription + summary)
- ✅ Все wellness атрибуты попадают в summary в структурированном виде
- ✅ Логирование позволяет отслеживать извлеченные данные
